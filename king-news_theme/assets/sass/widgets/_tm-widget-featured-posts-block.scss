// Variables
$grid-size: 25%;

// Mixins
@mixin size($width, $height: $width) {
	width: $width;
	height: $height;
}

@mixin cord($top: 0, $left: 0, $right: auto, $bottom: auto) {
	top: $top;
	left: $left;
	right: $right;
	bottom: $bottom;
}

@mixin alignFlex($alignSelf: stretch) {
	display: flex;
	align-self: $alignSelf;
}

// Wrapper
.tm_fpblock__wrapper {
	position: relative;
	margin: 0 -4px;
	margin-top: 5px;
	@include media-breakpoint-up(lg) {
		margin-top: 17px;
	}

	a:hover {
		color: #fff;
	}
}

.tm_fpblock {
	display: flex;
}

// Layouts
// Layout #1
.tm_fpblock {
	&.tm_fpblock-layout-1 {
		min-width: $grid-size;
		min-height: $grid-size;
	}
}

// Extra small & Small
@media (max-width: 767px) {
	.tm_fpblock {
		&.tm_fpblock-layout-1 {
			display: block;

			.tm_fpblock__item.tm_fpblock__item-large,
			.tm_fpblock__item.tm_fpblock__item-small,
			.tm_fpblock__item.tm_fpblock__item-small + .tm_fpblock__item-small {
				display: block;
				align-self: auto;
				width: auto;
				min-width: 100%;
				margin-left: 0;
			}
		}
	}
}

// Medium
@media (min-width: 768px) and (max-width: 990px) {
	.tm_fpblock {
		&.tm_fpblock-layout-1 {
			display: block;

			.tm_fpblock__item {
				&.tm_fpblock__item-large {
					width: 100%;
					display: block;
					margin-top: -5px;
				}

				&.tm_fpblock__item-small {
					display: inline-block;
					width: 50%;
					margin-right: -5px;
				}
			}
		}
	}
}

// Large & Extra large
@media (min-width: 991px) {
	.tm_fpblock {
		&.tm_fpblock-layout-1 {
			display: flex;

			.tm_fpblock__item {
				&.tm_fpblock__item-large {
					width: $grid-size * 2;
					align-self: flex-start;
				}

				&.tm_fpblock__item-small {
					width: $grid-size;
					align-self: flex-start;
				}

				&.tm_fpblock__item-small + .tm_fpblock__item-small {
					align-self: flex-end;
					margin-left: -($grid-size);
				}
			}
		}
	}
}

// Layout #2
.tm_fpblock {
	&.tm_fpblock-layout-2 {
		min-width: $grid-size;
		min-height: $grid-size;
	}
}

// Extra small & Small
@media (max-width: 767px) {
	.tm_fpblock {
		&.tm_fpblock-layout-2 {
			display: block;

			.tm_fpblock__item.tm_fpblock__item-large,
			.tm_fpblock__item.tm_fpblock__item-small {
				display: block;
				align-self: auto;
				width: auto;
				min-width: 100%;
				margin-left: 0;
			}
		}
	}
}

// Medium
@media (min-width: 768px) and (max-width: 990px) {
	.tm_fpblock {
		&.tm_fpblock-layout-2 {
			display: block;
			margin-bottom: 5px;

			.tm_fpblock__item {
				&.tm_fpblock__item-large {
					width: 100%;
					display: block;
				}

				&.tm_fpblock__item-small {
					width: 50%;
					display: inline-block;
					margin-right: -5px;
					margin-bottom: -5px;
				}
			}
		}
	}
}

// Large & Extra large
@media (min-width: 991px) {
	.tm_fpblock {
		&.tm_fpblock-layout-2 {
			display: flex;

			.tm_fpblock__item {
				&.tm_fpblock__item-large {
					width: $grid-size * 2;
					align-self: flex-start;
				}

				&.tm_fpblock__item-small {
					width: $grid-size;
					align-self: flex-start;
				}

				&.tm_fpblock__item-small.tm_fpblock__item-3,
				&.tm_fpblock__item-small.tm_fpblock__item-5 {
					align-self: flex-end;
					margin-left: -($grid-size);
				}
			}
		}
	}
}

// Layout #3

.tm_fpblock {
	&.tm_fpblock-layout-3 {
		min-width: $grid-size;
		min-height: $grid-size;
	}
}

// Extra small & Small
@media (max-width: 767px) {
	.tm_fpblock {
		&.tm_fpblock-layout-3 {
			display: block;

			.tm_fpblock__item.tm_fpblock__item-large,
			.tm_fpblock__item.tm_fpblock__item-small,
			.tm_fpblock__item.tm_fpblock__item-small-2x {
				display: block;
				align-self: auto;
				width: auto;
				min-width: 100%;
				margin-left: 0;
			}
		}
	}
}

// Medium
@media (min-width: 768px) and (max-width: 990px) {
	.tm_fpblock {
		&.tm_fpblock-layout-3 {
			display: block;
			margin-bottom: 5px;

			.tm_fpblock__item {
				&.tm_fpblock__item-small-2x,
				&.tm_fpblock__item-large {
					width: 100%;
					display: block;
				}

				&.tm_fpblock__item-small {
					width: 50%;
					display: inline-block;
					margin-right: -5px;
					margin-bottom: -5px;
				}

				&.tm_fpblock__item-small-2x {
					max-height: 50%;
				}
			}
		}
	}
}

// Large & Extra large
@media (min-width: 991px) {
	.tm_fpblock {
		&.tm_fpblock-layout-3 {
			display: flex;

			.tm_fpblock__item {
				&.tm_fpblock__item-large {
					width: $grid-size * 2;
					align-self: flex-start;
				}

				&.tm_fpblock__item-small,
				&.tm_fpblock__item-small-2x {
					width: $grid-size;
					align-self: flex-start;
				}

				&.tm_fpblock__item-small-2x {
					width: $grid-size * 2;
					max-height: 50%;
				}

				&.tm_fpblock__item-small.tm_fpblock__item-3 {
					margin-left: -($grid-size * 2);
				}

				&.tm_fpblock__item-small.tm_fpblock__item-3,
				&.tm_fpblock__item-small.tm_fpblock__item-4 {
					width: $grid-size;
					align-self: flex-end;
				}
			}
		}
	}
}

// Layout #4

.tm_fpblock {
	&.tm_fpblock-layout-4 {
		min-width: $grid-size;
		min-height: $grid-size;
	}
}

// Extra small & Small
@media (max-width: 767px) {
	.tm_fpblock {
		&.tm_fpblock-layout-4 {
			display: block;

			.tm_fpblock__item.tm_fpblock__item-large,
			.tm_fpblock__item.tm_fpblock__item-small,
			.tm_fpblock__item.tm_fpblock__item-small-2x-vertical {
				display: block;
				align-self: auto;
				width: auto;
				min-width: 100%;
				margin-left: 0;
			}
		}
	}
}

// Medium
@media (min-width: 768px) and (max-width: 990px) {
	.tm_fpblock {
		&.tm_fpblock-layout-4 {
			display: block;
			margin-bottom: 5px;

			.tm_fpblock__item {

				&.tm_fpblock__item-large {
					width: 100%;
					display: block;
				}

				&.tm_fpblock__item-small-2x-vertical {
					display: inline-block;
					width: 50%;
					margin-right: -5px;
					margin-bottom: -5px;
				}

				&.tm_fpblock__item-small {
					width: 50%;

					float: right;
					margin-bottom: -100%;
				}

				&.tm_fpblock__item-small + .tm_fpblock__item-small {
					margin-bottom: 0;
				}
			}
		}
	}
}

// Large & Extra large
@media (min-width: 991px) {
	.tm_fpblock {
		&.tm_fpblock-layout-4 {
			display: flex;

			.tm_fpblock__item {
				&.tm_fpblock__item-large {
					width: $grid-size * 2;
					align-self: flex-start;

					.tm_fpblock__item__preview {
						height: 200%;
					}
				}

				&.tm_fpblock__item-small {
					width: $grid-size;
				}

				&.tm_fpblock__item-small,
				&.tm_fpblock__item-small-2x-vertical {
					align-self: flex-start;
				}

				&.tm_fpblock__item-small-2x-vertical {
					width: $grid-size;

					.tm_fpblock__item__preview {
						//@include alignFlex(stretch);
					}
				}

				&.tm_fpblock__item-4 {
					margin-left: -($grid-size);
					align-self: flex-end;
				}
			}
		}
	}
}

// Layout #5

.tm_fpblock {
	&.tm_fpblock-layout-5 {
		min-width: $grid-size;
		min-height: $grid-size;
	}
}

// Extra small & Small
@media (max-width: 767px) {
	.tm_fpblock {
		&.tm_fpblock-layout-5 {
			display: block;

			.tm_fpblock__item.tm_fpblock__item-large-2x,
			.tm_fpblock__item.tm_fpblock__item-small,
			.tm_fpblock__item.tm_fpblock__item-small + .tm_fpblock__item-small {
				display: block;
				align-self: auto;
				width: auto;
				min-width: 100%;
				margin-left: 0;
			}
		}
	}
}

// Medium
@media (min-width: 768px) and (max-width: 990px) {
	.tm_fpblock {
		&.tm_fpblock-layout-5 {
			display: block;

			.tm_fpblock__item {
				&.tm_fpblock__item-large-2x {
					width: 100%;
					display: block;
					margin-top: -5px;
				}

				&.tm_fpblock__item-small {
					display: inline-block;
					width: 50%;
					margin-right: -5px;
				}
			}
		}
	}
}

// Large & Extra large
@media (min-width: 991px) {
	.tm_fpblock {
		&.tm_fpblock-layout-5 {
			display: flex;

			.tm_fpblock__item {
				&.tm_fpblock__item-large-2x {
					width: $grid-size * 2;
					align-self: flex-start;
				}

				&.tm_fpblock__item-small {
					width: $grid-size;
					align-self: flex-start;
				}

				&.tm_fpblock__item-small + .tm_fpblock__item-small {
					align-self: flex-end;
					margin-left: -($grid-size);
				}
			}
		}
	}
}

// Item

.tm_fpblock__item {

	&:hover .tm_fpblock__item__preview:before {
		opacity: 1;
		top: 40%;
	}
	position: relative;
	overflow: hidden;
	padding: 5px 4px 0px !important;
	@include media-breakpoint-up(md) {
		padding: 6px 4px 0px !important;
	}
	@include media-breakpoint-up(lg) {
		padding: 4px 4px 0px !important;
	}

	.tm_fpblock__item__categories,
	.tm_fpblock__item__description {
		position: absolute;
		@include cord(14px, 14px);
		@include media-breakpoint-up(xl) {
			@include cord(34px, 34px);
		}
	}

	.tm_fpblock__item__preview {
		position: relative;
		background-position: center;
		background-repeat: no-repeat;
		background-size: cover;

		transition-duration: .1s;
		transition-property: width, height, background;
		transition-delay: .1s;

		& > img {
			display: block;
			width: 100%;
			opacity: 0;
		}

		&::before {
			content:'';
			position: absolute;
			width: 100%;
			bottom: 0;
			top: 50%;
			left: 0;
			opacity: 0.8;
			z-index: 0;
			@include gradient_vertical(rgba(#000,0), rgba(#000,1));
			transition: .4s all ease;
		}

	}

	.tm_fpblock__item__categories {
		display: block;
		background: #eeee00;
		line-height: 15px;

		.tm_fpblock__item__category {
			color: #000000;
			font-size: 16px;
			font-weight: 700;
			line-height: 21px;
			padding: 0 5px 1px;
		}
	}

	.tm_fpblock__item__description {
		@include cord(auto, 12px, 12px, 12px);
		@include media-breakpoint-up(xl) {
			@include cord(auto, 28px, 28px, 28px);
		}

		.tm_fpblock__item__date {
			display: block;
			font-size: 14px;
			transition:inherit;
			i{
				font-size: 20px;
				margin: 0px 7px 0px 7px;
				position: relative;
				top: 4px;
				transition:inherit;
				color: #fff;
			}
		}

		.tm_fpblock__item__comments_count {
			display: block;
			background: #000000;
			background: rgba(0, 0, 0, 0.7);
			color: #ffffff;
			font-size: 11px;
		}

		.tm_fpblock__item__author {
			display: block;
			background: #000000;
			background: rgba(0, 0, 0, 0.7);
			color: #ffffff;
			font-size: 11px;
		}

		.tm_fpblock__item__title {
			display: inline-block;
			color: #ffffff;
			font-weight: bold;
			font-size: 16px;
			line-height: 19px;

			@include media-breakpoint-up(xl) {
				margin-bottom: 9px;
    		margin-left: 5px;
    		font-size: 20px;
				line-height: 26px;
			}
			@media (max-width: 1300px) {
			    line-height: 22px;
			}

			&:hover {
				//font-style: italic;
			}
		}

		.tm_fpblock__item__content {
			background: #000000;
			background: rgba(0, 0, 0, 0.7);
			color: #ffffff;

			font-size: 11px;
		}

		.tm_fpblock__item__tags {
			display: block;
			background: #000000;
			background: rgba(0, 0, 0, 0.7);

			.tm_fpblock__item__tag {
				color: #ffffff;
				font-size: 11px;
			}
		}
	}
}

/*styles for big image*/
.tm_fpblock__item.tm_fpblock__item-large .tm_fpblock__item__description .tm_fpblock__item__title {
	@media (min-width: 1199px) {
		font-size: 34px;
		line-height: 40px;
		margin-bottom: 10px;
    margin-left: 5px;
	}
	margin-left: 8px;
	@include media-breakpoint-up(xl) {
		font-size: 50px;
		line-height: 63px;
		margin-bottom: 16px;
    margin-left: 9px;
	}
}

